var cov_1gjzmdk8yi=function(){var path='C:\\Registro-de-visitantes-\\src\\js\\data.js',hash='1256a15687b75d202ec2d7f525456b39e8f0cde3',Function=function(){}.constructor,global=new Function('return this')(),gcv='__coverage__',coverageData={path:'C:\\Registro-de-visitantes-\\src\\js\\data.js',statementMap:{'0':{start:{line:1,column:0},end:{line:5,column:3}},'1':{start:{line:8,column:9},end:{line:8,column:29}},'2':{start:{line:10,column:0},end:{line:98,column:2}},'3':{start:{line:13,column:16},end:{line:13,column:54}},'4':{start:{line:14,column:17},end:{line:14,column:56}},'5':{start:{line:15,column:19},end:{line:15,column:60}},'6':{start:{line:16,column:18},end:{line:16,column:58}},'7':{start:{line:17,column:20},end:{line:17,column:62}},'8':{start:{line:19,column:4},end:{line:36,column:9}},'9':{start:{line:27,column:8},end:{line:27,column:61}},'10':{start:{line:28,column:8},end:{line:28,column:52}},'11':{start:{line:29,column:8},end:{line:29,column:53}},'12':{start:{line:30,column:8},end:{line:30,column:55}},'13':{start:{line:31,column:8},end:{line:31,column:54}},'14':{start:{line:32,column:8},end:{line:32,column:56}},'15':{start:{line:35,column:8},end:{line:35,column:56}},'16':{start:{line:40,column:4},end:{line:96,column:7}},'17':{start:{line:41,column:22},end:{line:41,column:27}},'18':{start:{line:42,column:16},end:{line:42,column:48}},'19':{start:{line:43,column:17},end:{line:43,column:50}},'20':{start:{line:44,column:22},end:{line:44,column:60}},'21':{start:{line:45,column:16},end:{line:45,column:19}},'22':{start:{line:46,column:17},end:{line:46,column:18}},'23':{start:{line:48,column:6},end:{line:51,column:34}},'24':{start:{line:53,column:6},end:{line:70,column:8}},'25':{start:{line:59,column:10},end:{line:64,column:11}},'26':{start:{line:60,column:12},end:{line:60,column:40}},'27':{start:{line:62,column:28},end:{line:62,column:58}},'28':{start:{line:63,column:12},end:{line:63,column:58}},'29':{start:{line:65,column:10},end:{line:65,column:23}},'30':{start:{line:68,column:10},end:{line:68,column:50}},'31':{start:{line:72,column:6},end:{line:81,column:16}},'32':{start:{line:73,column:8},end:{line:80,column:9}},'33':{start:{line:74,column:10},end:{line:74,column:66}},'34':{start:{line:75,column:10},end:{line:75,column:45}},'35':{start:{line:76,column:10},end:{line:76,column:47}},'36':{start:{line:77,column:10},end:{line:77,column:46}},'37':{start:{line:78,column:10},end:{line:78,column:48}},'38':{start:{line:79,column:10},end:{line:79,column:27}},'39':{start:{line:83,column:26},end:{line:89,column:7}},'40':{start:{line:84,column:8},end:{line:84,column:29}},'41':{start:{line:85,column:8},end:{line:85,column:31}},'42':{start:{line:86,column:8},end:{line:86,column:70}},'43':{start:{line:87,column:25},end:{line:87,column:54}},'44':{start:{line:88,column:8},end:{line:88,column:26}},'45':{start:{line:91,column:6},end:{line:94,column:16}},'46':{start:{line:92,column:8},end:{line:92,column:22}},'47':{start:{line:93,column:8},end:{line:93,column:31}},'48':{start:{line:100,column:0},end:{line:173,column:2}},'49':{start:{line:104,column:16},end:{line:104,column:48}},'50':{start:{line:105,column:4},end:{line:121,column:7}},'51':{start:{line:106,column:6},end:{line:106,column:27}},'52':{start:{line:107,column:6},end:{line:120,column:9}},'53':{start:{line:108,column:8},end:{line:108,column:56}},'54':{start:{line:109,column:8},end:{line:119,column:15}},'55':{start:{line:125,column:4},end:{line:129,column:7}},'56':{start:{line:126,column:6},end:{line:126,column:52}},'57':{start:{line:128,column:6},end:{line:128,column:56}},'58':{start:{line:134,column:4},end:{line:134,column:51}},'59':{start:{line:135,column:4},end:{line:135,column:53}},'60':{start:{line:136,column:4},end:{line:136,column:57}},'61':{start:{line:137,column:4},end:{line:137,column:56}},'62':{start:{line:138,column:4},end:{line:138,column:58}},'63':{start:{line:139,column:16},end:{line:139,column:48}},'64':{start:{line:140,column:4},end:{line:140,column:31}},'65':{start:{line:142,column:4},end:{line:171,column:7}},'66':{start:{line:143,column:26},end:{line:143,column:56}},'67':{start:{line:145,column:18},end:{line:145,column:56}},'68':{start:{line:146,column:19},end:{line:146,column:58}},'69':{start:{line:147,column:21},end:{line:147,column:62}},'70':{start:{line:148,column:20},end:{line:148,column:60}},'71':{start:{line:149,column:22},end:{line:149,column:64}},'72':{start:{line:151,column:6},end:{line:170,column:11}},'73':{start:{line:159,column:10},end:{line:159,column:56}},'74':{start:{line:160,column:10},end:{line:160,column:38}},'75':{start:{line:161,column:10},end:{line:161,column:54}},'76':{start:{line:162,column:10},end:{line:162,column:55}},'77':{start:{line:163,column:10},end:{line:163,column:57}},'78':{start:{line:164,column:10},end:{line:164,column:56}},'79':{start:{line:165,column:10},end:{line:165,column:58}},'80':{start:{line:169,column:10},end:{line:169,column:60}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:11,column:8},end:{line:11,column:9}},loc:{start:{line:11,column:14},end:{line:37,column:3}},line:11},'1':{name:'(anonymous_1)',decl:{start:{line:26,column:12},end:{line:26,column:13}},loc:{start:{line:26,column:24},end:{line:33,column:7}},line:26},'2':{name:'(anonymous_2)',decl:{start:{line:34,column:13},end:{line:34,column:14}},loc:{start:{line:34,column:24},end:{line:36,column:7}},line:34},'3':{name:'(anonymous_3)',decl:{start:{line:39,column:9},end:{line:39,column:10}},loc:{start:{line:39,column:15},end:{line:97,column:3}},line:39},'4':{name:'(anonymous_4)',decl:{start:{line:40,column:5},end:{line:40,column:6}},loc:{start:{line:40,column:11},end:{line:95,column:5}},line:40},'5':{name:'(anonymous_5)',decl:{start:{line:58,column:8},end:{line:58,column:9}},loc:{start:{line:58,column:20},end:{line:66,column:9}},line:58},'6':{name:'(anonymous_6)',decl:{start:{line:67,column:8},end:{line:67,column:9}},loc:{start:{line:67,column:17},end:{line:69,column:9}},line:67},'7':{name:'(anonymous_7)',decl:{start:{line:72,column:40},end:{line:72,column:41}},loc:{start:{line:72,column:49},end:{line:81,column:7}},line:72},'8':{name:'(anonymous_8)',decl:{start:{line:83,column:26},end:{line:83,column:27}},loc:{start:{line:83,column:32},end:{line:89,column:7}},line:83},'9':{name:'(anonymous_9)',decl:{start:{line:91,column:44},end:{line:91,column:45}},loc:{start:{line:91,column:53},end:{line:94,column:7}},line:91},'10':{name:'(anonymous_10)',decl:{start:{line:102,column:13},end:{line:102,column:14}},loc:{start:{line:102,column:19},end:{line:122,column:3}},line:102},'11':{name:'(anonymous_11)',decl:{start:{line:105,column:38},end:{line:105,column:39}},loc:{start:{line:105,column:57},end:{line:121,column:5}},line:105},'12':{name:'(anonymous_12)',decl:{start:{line:107,column:28},end:{line:107,column:29}},loc:{start:{line:107,column:37},end:{line:120,column:7}},line:107},'13':{name:'(anonymous_13)',decl:{start:{line:124,column:10},end:{line:124,column:11}},loc:{start:{line:124,column:18},end:{line:130,column:3}},line:124},'14':{name:'(anonymous_14)',decl:{start:{line:125,column:49},end:{line:125,column:50}},loc:{start:{line:125,column:55},end:{line:127,column:5}},line:125},'15':{name:'(anonymous_15)',decl:{start:{line:127,column:13},end:{line:127,column:14}},loc:{start:{line:127,column:24},end:{line:129,column:5}},line:127},'16':{name:'(anonymous_16)',decl:{start:{line:133,column:8},end:{line:133,column:9}},loc:{start:{line:133,column:61},end:{line:172,column:3}},line:133},'17':{name:'(anonymous_17)',decl:{start:{line:142,column:21},end:{line:142,column:22}},loc:{start:{line:142,column:27},end:{line:171,column:5}},line:142},'18':{name:'(anonymous_18)',decl:{start:{line:158,column:14},end:{line:158,column:15}},loc:{start:{line:158,column:20},end:{line:166,column:9}},line:158},'19':{name:'(anonymous_19)',decl:{start:{line:167,column:15},end:{line:167,column:16}},loc:{start:{line:167,column:26},end:{line:170,column:9}},line:167}},branchMap:{'0':{loc:{start:{line:48,column:28},end:{line:51,column:32}},type:'binary-expr',locations:[{start:{line:48,column:28},end:{line:48,column:50}},{start:{line:49,column:8},end:{line:49,column:36}},{start:{line:50,column:8},end:{line:50,column:33}},{start:{line:51,column:8},end:{line:51,column:32}}],line:48},'1':{loc:{start:{line:59,column:10},end:{line:64,column:11}},type:'if',locations:[{start:{line:59,column:10},end:{line:64,column:11}},{start:{line:59,column:10},end:{line:64,column:11}}],line:59},'2':{loc:{start:{line:62,column:28},end:{line:62,column:58}},type:'binary-expr',locations:[{start:{line:62,column:28},end:{line:62,column:38}},{start:{line:62,column:42},end:{line:62,column:58}}],line:62},'3':{loc:{start:{line:73,column:8},end:{line:80,column:9}},type:'if',locations:[{start:{line:73,column:8},end:{line:80,column:9}},{start:{line:73,column:8},end:{line:80,column:9}}],line:73}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0},b:{'0':[0,0,0,0],'1':[0,0],'2':[0,0],'3':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_1gjzmdk8yi.s[0]++;firebase.initializeApp({apiKey:'AIzaSyBgC8VSVMtFdRtd0fGVxQVTG_DQskngoUw',authDomain:'registrovisitantes-8986e.firebaseapp.com',projectId:'registrovisitantes-8986e'});// Initialize Cloud Firestore through Firebase
let db=(cov_1gjzmdk8yi.s[1]++,firebase.firestore());cov_1gjzmdk8yi.s[2]++;window.client={save:()=>{cov_1gjzmdk8yi.f[0]++;// Agregar docuemento
let email=(cov_1gjzmdk8yi.s[3]++,document.getElementById('email').value);let nombre=(cov_1gjzmdk8yi.s[4]++,document.getElementById('nombre').value);let password=(cov_1gjzmdk8yi.s[5]++,document.getElementById('password').value);let empresa=(cov_1gjzmdk8yi.s[6]++,document.getElementById('empresa').value);let direccion=(cov_1gjzmdk8yi.s[7]++,document.getElementById('direccion').value);cov_1gjzmdk8yi.s[8]++;db.collection('users').add({email:email,nombre:nombre,password:password,empresa:empresa,direccion:direccion}).then(docRef=>{cov_1gjzmdk8yi.f[1]++;cov_1gjzmdk8yi.s[9]++;console.log('Document written with ID: ',docRef.id);cov_1gjzmdk8yi.s[10]++;document.getElementById('email').value='';cov_1gjzmdk8yi.s[11]++;document.getElementById('nombre').value='';cov_1gjzmdk8yi.s[12]++;document.getElementById('password').value='';cov_1gjzmdk8yi.s[13]++;document.getElementById('empresa').value='';cov_1gjzmdk8yi.s[14]++;document.getElementById('direccion').value='';}).catch(error=>{cov_1gjzmdk8yi.f[2]++;cov_1gjzmdk8yi.s[15]++;console.error('Error adding document: ',error);});},photo:()=>{cov_1gjzmdk8yi.f[3]++;cov_1gjzmdk8yi.s[16]++;(()=>{cov_1gjzmdk8yi.f[4]++;let streaming=(cov_1gjzmdk8yi.s[17]++,false),video=(cov_1gjzmdk8yi.s[18]++,document.querySelector('#video')),canvas=(cov_1gjzmdk8yi.s[19]++,document.querySelector('#canvas')),startbutton=(cov_1gjzmdk8yi.s[20]++,document.querySelector('#startbutton')),width=(cov_1gjzmdk8yi.s[21]++,320),height=(cov_1gjzmdk8yi.s[22]++,0);cov_1gjzmdk8yi.s[23]++;navigator.getMedia=(cov_1gjzmdk8yi.b[0][0]++,navigator.getUserMedia)||(cov_1gjzmdk8yi.b[0][1]++,navigator.webkitGetUserMedia)||(cov_1gjzmdk8yi.b[0][2]++,navigator.mozGetUserMedia)||(cov_1gjzmdk8yi.b[0][3]++,navigator.msGetUserMedia);cov_1gjzmdk8yi.s[24]++;navigator.getMedia({video:true,audio:false},stream=>{cov_1gjzmdk8yi.f[5]++;cov_1gjzmdk8yi.s[25]++;if(navigator.mozGetUserMedia){cov_1gjzmdk8yi.b[1][0]++;cov_1gjzmdk8yi.s[26]++;video.mozSrcObject=stream;}else{cov_1gjzmdk8yi.b[1][1]++;let vendorURL=(cov_1gjzmdk8yi.s[27]++,(cov_1gjzmdk8yi.b[2][0]++,window.URL)||(cov_1gjzmdk8yi.b[2][1]++,window.webkitURL));cov_1gjzmdk8yi.s[28]++;video.src=vendorURL.createObjectURL(stream);}cov_1gjzmdk8yi.s[29]++;video.play();},err=>{cov_1gjzmdk8yi.f[6]++;cov_1gjzmdk8yi.s[30]++;console.log('An error occured! '+err);});cov_1gjzmdk8yi.s[31]++;video.addEventListener('canplay',event=>{cov_1gjzmdk8yi.f[7]++;cov_1gjzmdk8yi.s[32]++;if(!streaming){cov_1gjzmdk8yi.b[3][0]++;cov_1gjzmdk8yi.s[33]++;height=video.videoHeight/(video.videoWidth/width);cov_1gjzmdk8yi.s[34]++;video.setAttribute('width',width);cov_1gjzmdk8yi.s[35]++;video.setAttribute('height',height);cov_1gjzmdk8yi.s[36]++;canvas.setAttribute('width',width);cov_1gjzmdk8yi.s[37]++;canvas.setAttribute('height',height);cov_1gjzmdk8yi.s[38]++;streaming=true;}else{cov_1gjzmdk8yi.b[3][1]++;}},false);cov_1gjzmdk8yi.s[39]++;const takepicture=()=>{cov_1gjzmdk8yi.f[8]++;cov_1gjzmdk8yi.s[40]++;canvas.width=width;cov_1gjzmdk8yi.s[41]++;canvas.height=height;cov_1gjzmdk8yi.s[42]++;canvas.getContext('2d').drawImage(video,0,0,width,height);let finalPhoto=(cov_1gjzmdk8yi.s[43]++,canvas.toDataURL('image/png'));cov_1gjzmdk8yi.s[44]++;return finalPhoto;};cov_1gjzmdk8yi.s[45]++;startbutton.addEventListener('click',event=>{cov_1gjzmdk8yi.f[9]++;cov_1gjzmdk8yi.s[46]++;takepicture();cov_1gjzmdk8yi.s[47]++;event.preventDefault();},false);})();}};cov_1gjzmdk8yi.s[48]++;window.admin={// borrar documentos
showTable:()=>{cov_1gjzmdk8yi.f[10]++;// Leer documentos
let tabla=(cov_1gjzmdk8yi.s[49]++,document.getElementById('tabla'));cov_1gjzmdk8yi.s[50]++;db.collection('users').onSnapshot(querySnapshot=>{cov_1gjzmdk8yi.f[11]++;cov_1gjzmdk8yi.s[51]++;tabla.innerHTML='';cov_1gjzmdk8yi.s[52]++;querySnapshot.forEach(doc=>{cov_1gjzmdk8yi.f[12]++;cov_1gjzmdk8yi.s[53]++;console.log(`${doc.id} => ${doc.data().email}`);cov_1gjzmdk8yi.s[54]++;tabla.innerHTML+=`
          <tr>
          <th scope="row">${doc.id}</th>
          <td>${doc.data().email}</td>
          <td>${doc.data().nombre}</td>
          <td>${doc.data().password}</td>
          <td>${doc.data().empresa}</td>
          <td>${doc.data().direccion}</td>
          <td><button class="btn btn-danger" onclick="window.admin.delete('${doc.id}')">Eliminar</button></td>
          <td><button class="btn btn-warning" onclick="window.admin.edit('${doc.id}','${doc.data().email}','${doc.data().nombre}','${doc.data().password}','${doc.data().empresa}','${doc.data().dirección}')">Editar</button></td>
        </tr>`;});});},delete:id=>{cov_1gjzmdk8yi.f[13]++;cov_1gjzmdk8yi.s[55]++;db.collection('users').doc(id).delete().then(()=>{cov_1gjzmdk8yi.f[14]++;cov_1gjzmdk8yi.s[56]++;console.log('Document successfully deleted!');}).catch(error=>{cov_1gjzmdk8yi.f[15]++;cov_1gjzmdk8yi.s[57]++;console.error('Error removing document: ',error);});},// editar documentos
edit:(id,email,nombre,password,empresa,direccion)=>{cov_1gjzmdk8yi.f[16]++;cov_1gjzmdk8yi.s[58]++;document.getElementById('email').value=email;cov_1gjzmdk8yi.s[59]++;document.getElementById('nombre').value=nombre;cov_1gjzmdk8yi.s[60]++;document.getElementById('password').value=password;cov_1gjzmdk8yi.s[61]++;document.getElementById('empresa').value=password;cov_1gjzmdk8yi.s[62]++;document.getElementById('direccion').value=password;let boton=(cov_1gjzmdk8yi.s[63]++,document.getElementById('boton'));cov_1gjzmdk8yi.s[64]++;boton.innerHTML='Editar';cov_1gjzmdk8yi.s[65]++;boton.onclick=()=>{cov_1gjzmdk8yi.f[17]++;let washingtonRef=(cov_1gjzmdk8yi.s[66]++,db.collection('users').doc(id));let email=(cov_1gjzmdk8yi.s[67]++,document.getElementById('email').value);let nombre=(cov_1gjzmdk8yi.s[68]++,document.getElementById('nombre').value);let password=(cov_1gjzmdk8yi.s[69]++,document.getElementById('password').value);let empresa=(cov_1gjzmdk8yi.s[70]++,document.getElementById('empresa').value);let direccion=(cov_1gjzmdk8yi.s[71]++,document.getElementById('direccion').value);cov_1gjzmdk8yi.s[72]++;return washingtonRef.update({email:email,nombre:nombre,password:password,empresa:empresa,direccion:direccion}).then(()=>{cov_1gjzmdk8yi.f[18]++;cov_1gjzmdk8yi.s[73]++;console.log('Document successfully updated!');cov_1gjzmdk8yi.s[74]++;boton.innerHTML='Guardar';cov_1gjzmdk8yi.s[75]++;document.getElementById('email').value='';cov_1gjzmdk8yi.s[76]++;document.getElementById('nombre').value='';cov_1gjzmdk8yi.s[77]++;document.getElementById('password').value='';cov_1gjzmdk8yi.s[78]++;document.getElementById('empresa').value='';cov_1gjzmdk8yi.s[79]++;document.getElementById('direccion').value='';}).catch(error=>{cov_1gjzmdk8yi.f[19]++;cov_1gjzmdk8yi.s[80]++;// The document probably doesn't exist.
console.error('Error updating document: ',error);});};}};